{
  "uid" : "7bec7609f17abd4e",
  "name" : ".Users.motao.PycharmProjects.SqbjApiTest.test_cases.test_public_api.test_get_tenant.TestGetTenant.test_get_tenant[16811011101-\\u946b\\u6cf0\\u4ea7\\u4e1a]",
  "title" : "Test get tenant [16811011101-\\u946b\\u6cf0\\u4ea7\\u4e1a]",
  "time" : {
    "start" : 1542790414756,
    "stop" : 1542790415528,
    "duration" : 772
  },
  "summary" : {
    "attachments" : 2,
    "steps" : 3
  },
  "failure" : {
    "message" : "AssertionError: assert '鑫泰产业' in '{\"jsonrpc\": \"2.0\", \"id\": 1, \"result\": [{\"tenantId\": \"772cbb220daaa39a148db3cdcfbdadac\", \"shortName\": \"\\\\u946b\\\\u6cf0\\...9e64a76fbd98eb439b7\", \"shortName\": \"motest\"}, {\"tenantId\": \"f40ccb4caad440170ea378adc184d775\", \"shortName\": \"jingj\"}]}'",
    "stackTrace" : "self = <test_cases.test_public_api.test_get_tenant.TestGetTenant object at 0x1069282e8>\nusername = 16811011101, shortname = '鑫泰产业'\n\n    @pytest.mark.parametrize(\"username, shortname\", [\n        (16811011101, \"鑫泰产业\"),\n        (16811011101, \"motest\"),\n        (16811011101, \"jingj\")\n    \n    ])\n    @allure.story(\"验证获取用户租户接口\")     # story定义用户场景\n    @allure.feature('test_get_tenant')\n    def test_get_tenant(self, username, shortname):\n        '''\n    \n            用例描述：根据用户手机号验证此手机号返回的相应租户是否正确\n            '''\n        with allure.step(\"设置用户登录手机号\"):  # 将一个测试用例分成几个步骤，将步骤打印到测试报告中\n            url = \"https://smart.uat2.sqbj.com/api/basic/json-rpc/views\"\n            data = {\"id\": 1,\n                    \"jsonrpc\": \"2.0\",\n                    \"method\": \"common_getTenantByUsername\",\n                    \"params\": [username]}\n        with allure.step(\"获取用户租户信息\"):\n            r = requests.post(url=url, json=data, verify=False)\n            r_code = r.status_code\n            r_json = json.dumps(r.json())\n            r_time = r.elapsed.microseconds/1000\n            #res = r_json['result']\n            print(r_json)\n        with allure.step(\"验证结果\"):\n            assert r_code == 200\n>           assert shortname in r_json\nE           assert '鑫泰产业' in '{\"jsonrpc\": \"2.0\", \"id\": 1, \"result\": [{\"tenantId\": \"772cbb220daaa39a148db3cdcfbdadac\", \"shortName\": \"\\\\u946b\\\\u6cf0\\...9e64a76fbd98eb439b7\", \"shortName\": \"motest\"}, {\"tenantId\": \"f40ccb4caad440170ea378adc184d775\", \"shortName\": \"jingj\"}]}'\n\ntest_cases/test_public_api/test_get_tenant.py:46: AssertionError"
  },
  "description" : {
    "value" : "\n\n        用例描述：根据用户手机号验证此手机号返回的相应租户是否正确\n        ",
    "type" : "TEXT"
  },
  "severity" : "NORMAL",
  "status" : "FAILED",
  "testId" : null,
  "suite" : {
    "uid" : "cad89a7d762805c6",
    "name" : "test_cases",
    "title" : "Test cases"
  },
  "steps" : [ {
    "name" : "设置用户登录手机号",
    "title" : "设置用户登录手机号",
    "time" : {
      "start" : 1542790414764,
      "stop" : 1542790414764,
      "duration" : 0
    },
    "summary" : {
      "attachments" : 0,
      "steps" : 0
    },
    "status" : "PASSED",
    "attachments" : [ ],
    "steps" : [ ]
  }, {
    "name" : "获取用户租户信息",
    "title" : "获取用户租户信息",
    "time" : {
      "start" : 1542790414764,
      "stop" : 1542790415319,
      "duration" : 555
    },
    "summary" : {
      "attachments" : 0,
      "steps" : 0
    },
    "status" : "PASSED",
    "attachments" : [ ],
    "steps" : [ ]
  }, {
    "name" : "验证结果",
    "title" : "验证结果",
    "time" : {
      "start" : 1542790415319,
      "stop" : 1542790415319,
      "duration" : 0
    },
    "summary" : {
      "attachments" : 0,
      "steps" : 0
    },
    "status" : "FAILED",
    "attachments" : [ ],
    "steps" : [ ]
  } ],
  "attachments" : [ {
    "title" : "Captured log setup",
    "source" : "d254ed5c-7173-4044-8271-82eef65c05c5-attachment.txt",
    "type" : "text/plain",
    "size" : 499,
    "uid" : "bdc6aa7ed578be1b"
  }, {
    "title" : "Captured log call",
    "source" : "f67595ea-ece7-4a1b-977b-4e0c0837cf99-attachment.txt",
    "type" : "text/plain",
    "size" : 370,
    "uid" : "cef942477df6d37d"
  } ],
  "issues" : [ ],
  "labels" : [ {
    "name" : "host",
    "value" : "localhost"
  }, {
    "name" : "suite-name",
    "value" : "test_cases"
  }, {
    "name" : "feature",
    "value" : "TestGetTenant"
  }, {
    "name" : "story",
    "value" : "验证获取用户租户接口"
  }, {
    "name" : "framework",
    "value" : "pytest"
  }, {
    "name" : "suite-title",
    "value" : null
  }, {
    "name" : "severity",
    "value" : "normal"
  }, {
    "name" : "feature",
    "value" : "test_get_tenant"
  }, {
    "name" : "thread",
    "value" : "20436-MainThread"
  }, {
    "name" : "language",
    "value" : "cpython3"
  } ],
  "parameters" : [ ]
}